<!DOCTYPE html>
</html>
    <head>
        <title>Week 2</title>
    </head>

    <body>
        <h3>  Additions </h3>
        <p>
            -Audit Log <br>
            -Stress Test <br>
            -Additions to client struct <br>
        </p>
        <!-- <img src="" alt="A Ferocious Predator"/> -->
        <h4> Audit Log </h4>
        <p> 
            This week I added an audit log that has a static name. Normally, it's best practice not to do this but I figured for testing
              purposes it works fine. It is named debug.txt and follows this format <br> <br>

              RFC Date, Client IP:Client Port, Code, Path <br><br>
              Example: <br>
              Sun, 20 Apr 2025 18:05:59 GMT, 100.64.17.130:32137, 200, /home/remote/server/webpages/code/2025-04-21/server.c <br><br><br>

            If it doesn't show relevant server info for if it crashes, it will be changed in the future.
        </p>
        <h4>Stress Test</h4>
        <p> 
            Since I run this server on my Raspberry Pi 3B, it doesn't have the best hardware specifications. That being said, it handles 
              a lot of information in a small timespan. <br>
              Here is a breakdown... <br>

              <table class="table">
                <head>
                    <td>File Size</td>
                    <td>Requests</td>
                    <td>Requests per Second</td>
                    <td>Time</td>
                    <td>Time per Request</td>
                    <td>Transfer Rate</td>
                    <td>Concurrency Level</td>
                    <td>Keep-Alive?</td>
                </head>
                <tbody>
                    <tr class="row-1">
                        <td>Small</td>
                        <td>5000</td>
                        <td>172.93</td>
                        <td>28.914s</td>
                        <td>115.657ms</td>
                        <td>692.88 KB/s</td>
                        <td>20</td>
                        <td>Yes</td>
                    </tr>
                    <tr class="row-2">
                        <td>Small</td>
                        <td>5000</td>
                        <td>170.79</td>
                        <td>29.276s</td>
                        <td>117.105ms</td>
                        <td>1.015 MB/s</td>
                        <td>20</td>
                        <td>No</td>
                    </tr>
                    <tr class="row-3">
                        <td>Large</td>
                        <td>3000</td>
                        <td>56.12</td>
                        <td>53s</td>
                        <td>71.27ms</td>
                        <td>1 MB/s</td>
                        <td>10</td>
                        <td>Yes</td>
                    </tr>
                    <tr class="row-4">
                        <td>Large</td>
                        <td>3000</td>
                        <td>56.03</td>
                        <td>53s</td>
                        <td>178ms</td>
                        <td>1 MB/s</td>
                        <td>10</td>
                        <td>No</td>
                    </tr>
                    <tr class="row-5">
                        <td>Large</td>
                        <td>5000</td>
                        <td>48.48</td>
                        <td>103.06s</td>
                        <td>412.57ms</td>
                        <td>873.05 KB/s</td>
                        <td>20</td>
                        <td>Yes</td>
                    </tr>
                    <tr class="row-6">
                        <td>Large</td>
                        <td>5000</td>
                        <td>50.68</td>
                        <td>98.657s</td>
                        <td>394.627ms</td>
                        <td>912.75 KB/s</td>
                        <td>20</td>
                        <td>No</td>
                    </tr>
                </tbody>
            </table>
            <br><br>
            The Keep-Alive flag is meant to be faster but in reality it doesn't do much. 
        </p>
        <h4> Client Structure </h4>
        <p> 
            The client structure was updated to include the 
        </p>

        <h3>  Next </h3>
        <p>
            -Stress test issue <br>
            -Caching <br>
        </p>
        <h4> Stress Test </h4>
        <p> 
            The stress test was a great indication of where my server lies in comparison to others. During it though, I had an issue of the
                server closing out randomly. There are no debug or error messages it just closes out. I THINK it's a read or write error which returns
                -1 and closes without warning. It could be I simply need to find out why.
        </p>
        <h4> Caching </h4>
        <p> 
            I want to try to cache the website file I read so that the next time a client connects, I can send them that website IF it's the same. This might
              be difficult because of the structure of my backend but it will work. I don't know if it will help with speed but in theory, it should. I THINK
              it was long because of the constant open/close.
        </p>
    </body>
</html>
